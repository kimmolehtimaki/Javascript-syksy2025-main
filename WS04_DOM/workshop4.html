<!DOCTYPE html>
<html lang="fi">

<head>
	<title>Työpaja 4</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="css/styles.css" />
</head>

<body>
	<hr />
	<h1 id="otsikko">Työpaja 4</h1>
	<h2>Tehtävä 1: Perus- DOM-muokkaus</h2>
	<p>
		&nbsp;Alla näet kolme painiketta. Muokkaa lähdekoodia ja lisää näille
		painikkeille onClick-tapahtumat. Käytä kehittäjäkonsolia löytääksesi
	</p>
	<p>
		<button onclick="changeHeading();">Painike 1</button>
		<button onclick="secondButton()">Painike 2</button>
		<button onclick="thirdButton()">Painike 3</button>
		<button onclick="fourthButton()">Bonus 1</button>
		<button onclick="fifthButton()">Bonus 2</button>
	</p>

	<ul>
		<li>
			Ensimmäisen painikkeen tulisi suorittaa JavaScript-funktio, joka löytää
			viittauksen sivun &quot;Työpaja 4&quot; -otsikkoon ja muuttaa sen
			sisällön muotoon &quot;Muokattu otsikko!&quot;.
		</li>
		<li>
			Toisen painikkeen tulisi suorittaa funktio, joka muuttaa sivun
			&quot;Tehtävä 2&quot; -otsikon tyyliä. JavaScriptin tulee muuttaa
			vähintään fonttikokoa, tyyliä, väritystä sekä taustaväriä.
		</li>
		<li>
			Kolmas painike lisää korvaa allaolevan Lorem Ipsum-tekstikappaleen sisällön jollain itse valitsemallasi
			tekstillä. Säilytä tekstin muotoilu.<br />
			<br />
			<strong id="lorem"><em>&quot;Lorem ipsum</em></strong><em>
				dolor sit amet, consectetuer adipiscing elit. Sed posuere interdum
				sem. Quisque ligula eros ullamcorper quis, lacinia quis facilisis sed
				sapien. Mauris varius diam vitae arcu. Sed arcu lectus auctor vitae,
				consectetuer et venenatis eget velit. &quot;<br><br></em>
		</li>
		<li>
			Bonus: Miten lisäisit tekstiä Lorem Ipsum-kappaleen perään ylikirjoittamatta olemassaolevaa tekstiä?
		</li>
		<li>Bonus: Miten vaihtaisit JavaScriptillä koko sivun taustaväriä?</li>
	</ul>


	<hr />
	<h2>Tehtävä 2: Kuvat ja alasvetovalikot</h2>
	<ul>
		<li>
			Kirjoita JavaScript-funktio, joka suoritetaan, kun alasvetovalikon valinta
			muuttuu (onchange-kuuntelija). Näytä käyttäjän valinta alert-ikkunassa.
		</li>

		<li>
			Kun saat edellisen kohdan toimimaan, muokkaa koodia siten että automallin valinta alasvetovalikosta vaihtaa
			alla näkyvän kuvan toiseksi. Tutki sivun koodia ja mieti miten tämä toteutetaan. Etsi sopivat kuvat eri
			autoille verkosta. Vinkki: kuvan id sivulla on "carimage".
		</li>
		<li>
			Rakenna kuvaan kuuntelija, joka saa aikaan sen että kun hiiri siirtyy kuvan päälle, kuvan ympärille tulee
			näkyä värillinen
			reunus. Kun hiiri poistuu, reunus katoaa.
		</li>
	</ul>
	<p>Valitse uusi auto listasta.</p>
	<select name="mySelect" id="mySelect" onchange="selectCar()">
		<!-- en saanut BMW:n kohdalla kuvaa aluksi vaihtumaan, joten lisäsin tyhjän valinnan alkuun ja koitin ratkaista ongelmaa sitä kautta-->
		<option	value="" disabled selected>Valitse automerkki</option>
		<option value="BMW">BMW</option>
		<option value="Audi">Audi</option>
		<option value="Mercedes">Mercedes</option>
		<option value="Volvo">Volvo</option>
	</select>
	<br />
	<br />
	<img alt="Auto" id="carimage" onmouseover="hoverCar()" style="left: 0px; opacity: 1"
		src="https://www.bmw.fi/content/dam/bmw/common/all-models/m-series/m8-coupe/2022/navigation/bmw-8series-coupe-modellfinder.png"
		width="400"/>


	<hr />
	<h2>Tehtävä 3: Taulukot</h2>
	<ul>
		<li>
			Lue lomakkeen kentät ja tarkasta niiden sisällön oikeellisuus napin painalluksen (on click) jälkeen. Ilmoita
			käyttäjälle esim. alert-ikkunalla jos tuli virheitä. <ul>
				<li>Nimen tulee olla yli 5 merkkiä pitkä</li>
				<li>Tehtävä kenttä ei saa olla tyhjä</li>
				<li>Palkka kenttä pitää olla yli 0 ja sen tulee sisältää vain numeroita</li>
			</ul>
		</li>
		<li class="surprise">
			Kun validointi toimii, kirjoita JavaScript-funktio joka lisää syötetyt arvot uutena rivinä allaolevaan
			taulukkoon. Voit katsoa tukea esim. <a
				href="https://www.w3schools.com/jsref/met_table_insertrow.asp">täältä</a>.
		</li>
		<li>Bonus: miten poistaisit rivejä taulukosta?</li>
	</ul>
	<br />
	<p>
	<h3>Palkkalomake</h3>
	Nimi
	<label for="textfield">:</label>
	<input type="text" name="textfield" id="nimi" />
	<br />
	Tehtävä:
	<input type="text" name="textfield2" id="tehtava" />
	<br />
	Palkka:
	<input type="text" name="textfield3" id="palkka" />
	<br /><br>
	<input type="button" name="Insert" id="insert" value="Lisää" />
	<!-- Luodaan erillinen nappi rivien poistamiseen taulukosta. -->
	 <input	type="button" name="Delete" id="remove" value="Poista" />
	</p>
	<table id="data" class="display" border="1">
		<thead>
			<tr>
				<th>Nimi</th>
				<th>Tehtävä</th>
				<th>Palkka</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Tiger Nixon</td>
				<td>System Architect</td>
				<td>$320 800</td>
			</tr>
			<tr>
				<td>Garrett Winters</td>
				<td>Accountant</td>
				<td>$170 750</td>
			</tr>
			<tr>
				<td>Ashton Cox</td>
				<td>Junior Technical Author</td>
				<td>$86 000</td>
			</tr>
			<tr>
				<td>Cedric Kelly</td>
				<td>Senior Javascript Developer</td>
				<td>$433 060</td>
			</tr>
			<tr>
				<td>Airi Satou</td>
				<td>Accountant</td>
				<td>$162 700</td>
			</tr>
		</tbody>
		<tfoot></tfoot>
	</table>

	<hr />

	<h2>Bonus-tehtävä: Siirrä elementtejä</h2>
	<ul>
		<li>
			<p class="surprise">
				Voit tehdä siistejä asioita muokkaamalla CSS-sääntöjä JavaScriptin
				kautta. Katso esimerkkejä luentodioista. Kokeile sitten näitä:
			</p>
			<ol>
				<li>
					<button onclick="changePosition()">Siirrä!</button> Valitse div,
					jonka id on &quot;carimage&quot; ja siirrä se 200px vasemmalle ja
					500px alaspäin.
				</li>
				<li>
					<button onclick="setInterval(function(){doMove();},1000); ">
						Animoi
					</button>
					Kirjoita funktio doMove(), joka liikuttaa kuvaa näytön poikki tai
					vielä parempi: edestakaisin näytöllä. Interval on jo lisätty listan
					kohteen onclick-tapahtumaan.
				</li>
				<li>
					<button onclick="setInterval(function(){fadeOut();},250);">
						Häivytä!
					</button>
					Kirjoita funktio fadeOut(), joka hitaasti pienentää kuvan
					opacity-arvon 1.0:sta 0:aan, jolloin kuva häviää. Interval on jo
					lisätty listan kohteen onclick-tapahtumaan.
				</li>
				<li>
					<button onclick="remove()">Häviä!</button> Lopuksi kirjoita
					JavaScript, joka poistaa kuvan sivulta.
				</li>
			</ol>
		</li>
	</ul>

	<hr />
	<h2>Bonustehtäviä innokkaille</h2>
	<ul>
		<li dir="ltr">
			<p dir="ltr">
				Kirjoita silmukka, joka käy läpi kaikki sivun LI-tagit ja korvaa ne
				&lt;strong&gt;-tagilla merkityllä, punaisella tekstillä, joka sanoo
				&quot;Korvattu&quot;.
			</p>
		</li>
		<li dir="ltr">
			Miten korvaisit sisällön vain niissä, joissa on sana
			&lsquo;Select&rsquo;?
		</li>
	</ul>

	<script>
	//Tehtävän yksi (+bonukset) ratkaisut
	function changeHeading() {
		let ekanappi = document.querySelectorAll("h1")[0].innerHTML = "Muokattu otsikko!";
	}
 
	function secondButton() {
		let tokanappi = document.querySelectorAll("h2")[1];
		tokanappi.style.fontSize = "30px";
		tokanappi.style.color = "white";
		tokanappi.style.backgroundColor = "black";
		tokanappi.style.fontStyle = "italic";
	}

	function thirdButton() {
		let kolmasnappi = document.getElementById("lorem");
		kolmasnappi.innerHTML = "Tämä on itse valitsemani teksti!";
		let toinenKolmasnappi = document.querySelectorAll("em")[0]; 
		toinenKolmasnappi.innerHTML = " Uutta tekstiä on lisätty!";
	}

	// Bonus-1 tehtävä
	function fourthButton() {
		let neljasnappi = document.getElementById("lorem");
		neljasnappi.innerHTML += " Tässä lisätty tekstiä bonus1-tehtävän mukaisesti.";
	}

	//Bonus 2-tehtävä
	function fifthButton() {
		document.body.style.backgroundColor = "lightblue";
	}

	//Tehtävän 2 ratkaisut
	function selectCar() {
		//muuttuja auton mallille
		let malli = document.getElementById("mySelect").value;
				
		alert("Valitsit automallin: " + malli);
		// Vaihdetaan kuva valitun merkin mukaiseksi, lisätty alt-attribuutti eri kuville
		if (malli === "BMW") {
		document.querySelector("#carimage").src = "https://www.bmw.fi/content/dam/bmw/common/all-models/m-series/m8-coupe/2022/navigation/bmw-8series-coupe-modellfinder.png";
		} else if (malli === "Audi") {
			document.querySelector("#carimage").src = "https://media.audi.com/is/image/audi/country/fi/assets/uusi-q3/Q3_laatikko_etusivu_734x412.jpg?width=660&auto=webp";
		} else if (malli === "Mercedes") {
			document.querySelector("#carimage").src = "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Mercedes-Benz_W214_1X7A1841.jpg/1280px-Mercedes-Benz_W214_1X7A1841.jpg";
		} else if (malli === "Volvo") {
			document.querySelector("#carimage").src = "https://wizz.volvocars.com/images/2026/256/exterior/studio/threeQuartersFrontLeft/exterior-studio-threeQuartersFrontLeft_04B6D1DEFB3647C113695D488F01693407B46BA2.png?client=car-configurator&bg=fafafa&w=384";
		}
	}
		
	function hoverCar() {
		//muuttuja auton kuvalle
		let kuva = document.getElementById("carimage");
	
		//lisätään kuuntelija "mouseover"-tapahtumalle
		kuva.addEventListener("mouseover", function() {
		kuva.style.border =  "2px solid green";
		});
		//lisätään kuuntelija "mouseout"-tapahtumalle
		kuva.addEventListener("mouseout", function() {
		kuva.style.border = "none";		
		});		
	}

	//Tehtävän 3 ratkaisut
	document.getElementById("insert").addEventListener("click", function() {
		//määritetään muuttuja lomakkeen kenttien arvoille
		let nimi = document.getElementById("nimi").value;
		let tehtava = document.getElementById("tehtava").value;
		// muunnetaan kentän string-arvo numeroksi
		let palkka = parseFloat(document.getElementById("palkka").value);
		
		// validoitaan kenttien arvot
		if (nimi.length <= 5) {
			alert("Nimen tulee olla yli 5 merkkiä pitkä.");
			return;
		}
		if (tehtava.trim() === "") {
			alert("Tehtävä-kenttä ei saa olla tyhjä.");
			return;
		}
		// käytetään "isNaN"-funktiota validoimaan että palkka on numero
		if (palkka <= 0 || isNaN(palkka)) {
			alert("Palkan tulee olla suurempi kuin 0 ja kentän tulee sisältää vain numeroita.");
			return;
		}
		//lisätään täytetty lomake uutena rivinä taulukkoon, ensin haetaan taulukko
		let taulukko = document.getElementById("data");
		//lisätään tyhjä rivi taulukon loppuun
		let luoRivi = taulukko.insertRow(taulukko.length);
		// lisätään käyttäjän syöttämät arvot soluihin
		let solu1 = luoRivi.insertCell(0);
		let solu2 = luoRivi.insertCell(1);
		let solu3 = luoRivi.insertCell(2);
		solu1.innerHTML = nimi;
		solu2.innerHTML = tehtava;
		solu3.innerHTML = "$" + palkka.toLocaleString("fi-FI"); // fi-FI pitäisi antaa tuhateroittimen välilyöntinä
	});

	// Tehtävä 3 bonus: rivien poistaminen taulukon lopusta
	document.getElementById("remove").addEventListener("click", function() {
		// haetaan taulukko
		let taulukko = document.getElementById("data");
		//tarkastetaan että taulukossa on otsikoiden lisäksi ainakin yksi rivi (=indeksi [1])
		if (taulukko.rows.length <= 1) {
			alert("Taulukossa ei ole rivejä poistettavaksi");
			return;
		}
		else {
			taulukko.deleteRow(-1); //poistaa viimeisen rivin
		}
	});
	
	

</script>
</body>

</html>